# 有限循环 (For Loop)

- **分类**: 逻辑 -> 流程控制
- **内部 ID**: `for_loop`

## 节点功能
在指定的范围内重复执行一段逻辑。你可以通过它实现批量操作（如生成一排方块或遍历列表）。

![有限循环-节点样子](https://free.picui.cn/free/2026/01/03/695844624823a.png)

## 入参
| 端口名称 | 内部 ID | 类型 | 说明 |
| :--- | :--- | :--- | :--- |
| 输入 | `exec` | 执行 (EXEC) | 触发该循环开始。 |
| 跳出 | `break` | 执行 (EXEC) | **【进阶】** 触发此端口可立即终止循环（通常用于循环体内部的逻辑回调）。 |
| 起始值 | `start` | 浮点数 (FLOAT) | 循环开始的索引（通常为 0）。 |
| 结束值 | `end` | 浮点数 (FLOAT) | 循环结束的索引。 |

## 出参
| 端口名称 | 内部 ID | 类型 | 说明 |
| :--- | :--- | :--- | :--- |
| 循环体 | `loop_body` | 执行 (EXEC) | 每轮循环都会触发一次该端口。 |
| 已完成 | `completed` | 执行 (EXEC) | 当所有循环执行完毕（或被跳出）后触发。 |
| 当前索引 | `index` | 浮点数 (FLOAT) | 当前正在进行的循环次数（从 start 到 end）。 |

## 逻辑规则
1. **启动**：当 `exec` 端口被触发时，循环从 `起始值` 开始，每轮增加 1。
2. **执行**：每一轮都会首先触发 `循环体` 端口。在此期间，可通过 `当前索引` 获取计数值。
3. **中断**：循环支持两种中断方式：
   - 使用独立的 **跳出循环** 节点。
   - 将逻辑链连回本节点的 `break` 输入端口。
4. **结束**：循环终止（正常结束或被中断）后，流程会跳转到 `已完成` 端口。

## 使用示例

### 场景：连续在聊天框打印 1 到 5
1. **有限循环**: `起始值` 设为 `1`，`结束值` 设为 `5`。
2. **[[打印到聊天栏]]**: 
   - 将 `有限循环` 的 `循环体` 连入 `打印` 的 `输入`。
   - 将 `有限循环` 的 `当前索引` 连入 `打印` 的 `消息`（需实现连接[[类型转换]]节点）。

![有限循环-示例](https://free.picui.cn/free/2026/01/03/69584527de5ea.png)

---
**提示**：`break` 输入端口主要用于复杂的嵌套逻辑，大多数情况下使用独立的 **跳出循环** 节点会更清晰。
