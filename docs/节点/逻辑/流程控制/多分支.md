# 多分支 (Switch)

- **分类**: 逻辑 -> 流程控制
- **内部 ID**: `switch`

## 节点功能
根据输入的控制变量值，从多个预设的分支中选择一个执行。如果没有任何分支匹配，则执行默认分支。

![多分支-节点样子](https://free.picui.cn/free/2026/01/03/6958404e83801.png)

## 入参
| 端口名称 | 内部 ID | 类型 | 说明 |
| :--- | :--- | :--- | :--- |
| 输入 | `exec` | 执行 (EXEC) | 触发该节点。 |
| 控制变量 | `control` | 字符串 (STRING) | 用于匹配的值。 |

## 出参
| 端口名称 | 内部 ID | 类型 | 说明 |
| :--- | :--- | :--- | :--- |
| 默认 | `default` | 执行 (EXEC) | 当没有任何分支匹配时执行。 |
| (动态端口) | (自定义) | 执行 (EXEC) | 只有当 `控制变量` 等于该端口时才执行。 |

## 逻辑规则
1. 节点会获取 `控制变量` 的当前值。
2. 它会检查所有输出端口（除了 `default` 和 `exec`）。
3. 如果 `控制变量` 的值与某个端口完全一致，则触发该端口。
4. 如果遍历完所有端口都没有匹配项，则触发 `默认` 端口。

## 使用示例

### 场景：根据命令参数执行不同逻辑
假设你通过 `/mgrun demo [start|stop]` 运行蓝图：
1. **当运行 MGRUN 时**: 获取名称，暂时叫 `cmd`。
2. **多分支**: 将 `cmd` 连入 `控制变量`。
3. **设置端口**: 
   - `start` -> 连接“打印到聊天栏：游戏开始”。
   - `stop` -> 连接“打印到聊天栏：游戏结束”。
   - `默认` 端口 -> 连接“打印到聊天栏：未知命令”。

![多分支-示例](https://free.picui.cn/free/2026/01/03/69583fd3761ab.png)

---
**提示**：在蓝图编辑器中，你可以通过点击 `添加分支` 来添加新的分支端口。
